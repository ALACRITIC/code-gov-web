<div class="schema-validator">
  <div class="usa-grid">
    <div class="tool block block--white">
      <h2>Code.json Validator</h2>

      <p>Please enter your code.json file below in order to validate it correctly meets the specification.</p>

      <div class="schema-validator__tool" [ngClass]="{'valid': hasInput() && isValid(), 'invalid': hasInput() && !isValid()}">
        <section class="schema-validator__input">
          <header>
            <h3>Code.json</h3>
          </header>
          <textarea [ngModel]="codeJson" (ngModelChange)="setCodeJson($event)"></textarea>
        </section>

        <section class="schema-validator__messages" *ngIf="codeJson.length">
          <header>
            <h3>Messages</h3>
          </header>

          <table *ngIf="errors?.length">
            <thead>
              <tr>
                <th>Field</th>
                <th>Error</th>
                <th>Value</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let error of errors">
                <td>{{error.dataPath}}</td>
                <td>{{error.message}}</td>
                <td>{{error.data}}</td>
              </tr>
            </tbody>
          </table>

          <p *ngIf="!errors?.length">
            Valid code.json!
          </p>
        </section>
      </div>
    </div>
  </div>
</div>
